[2025-07-16T05:00:19.441194] Dispatcher started successfully ðŸŸ¢
[2025-07-16T05:00:19.441389] === New Cycle ===
[0/1] Planning build
Building for debugging...
[0/20] Write sources
[1/20] Write swift-version-24593BA9C3E375BF.txt
[3/14] Compiling PlannerService HTTPRequest.swift
[4/15] Emitting module PlannerService
[5/15] Compiling PlannerService HTTPKernel.swift
[6/15] Compiling PlannerService HTTPResponse.swift
[7/15] Compiling PlannerService Router.swift
[8/15] Compiling PlannerService LocalFunctionCallerClient.swift
[9/15] Compiling PlannerService Models.swift
[10/15] Compiling PlannerService LLMGatewayClient.swift
[11/15] Compiling PlannerService Handlers.swift
[12/16] Wrapping AST for PlannerService for debugging
[14/18] Emitting module PlannerServer
[15/18] Compiling PlannerServer main.swift
[16/18] Write Objects.LinkFileList
[17/18] Linking planner-server
Build complete! (7.02s)
[0/1] Planning build
Building for debugging...
[0/74] Write swift-version-24593BA9C3E375BF.txt
[2/16] Compiling IntegrationTests IntegrationTests.swift
[3/16] Compiling IntegrationTests Handlers.swift
[4/16] Compiling IntegrationTests APIClient+Raw.swift
[5/16] Emitting module IntegrationTests
[6/16] Compiling IntegrationTests Router.swift
[7/16] Compiling IntegrationTests ServicesIntegrationTests.swift
[8/17] /srv/deploy/repos/fountainai/.build/aarch64-unknown-linux-gnu/debug/SwiftCodexOpenAPIKernelPackageDiscoveredTests.derived/all-discovered-tests.swift
[9/17] Write sources
[10/17] Wrapping AST for IntegrationTests for debugging
[12/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests ModelEmitterTests.swift
[13/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests all-discovered-tests.swift
[14/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests ServerTests.swift
[15/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests ClientGeneratorTests.swift
[16/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests ParserTests.swift
[17/25] Emitting module SwiftCodexOpenAPIKernelPackageDiscoveredTests
[18/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests GeneratorTests.swift
[19/25] Compiling SwiftCodexOpenAPIKernelPackageDiscoveredTests IntegrationTests.swift
[20/26] /srv/deploy/repos/fountainai/.build/aarch64-unknown-linux-gnu/debug/SwiftCodexOpenAPIKernelPackageTests.derived/runner.swift
[21/26] Write sources
[22/26] Wrapping AST for SwiftCodexOpenAPIKernelPackageDiscoveredTests for debugging
[24/28] Compiling SwiftCodexOpenAPIKernelPackageTests runner.swift
[25/28] Emitting module SwiftCodexOpenAPIKernelPackageTests
[26/29] Wrapping AST for SwiftCodexOpenAPIKernelPackageTests for debugging
[27/29] Write Objects.LinkFileList
[28/29] Linking SwiftCodexOpenAPIKernelPackageTests.xctest
Build complete! (7.05s)
Test Suite 'All tests' started at 2025-07-16 05:00:34.800
Test Suite 'debug.xctest' started at 2025-07-16 05:00:34.820
Test Suite 'GeneratorTests' started at 2025-07-16 05:00:34.820
Test Case 'GeneratorTests.testCLIWithFixtures' started at 2025-07-16 05:00:34.820
Test Case 'GeneratorTests.testCLIWithFixtures' passed (0.036 seconds)
Test Suite 'GeneratorTests' passed at 2025-07-16 05:00:34.856
	 Executed 1 test, with 0 failures (0 unexpected) in 0.036 (0.036) seconds
Test Suite 'ModelEmitterTests' started at 2025-07-16 05:00:34.856
Test Case 'ModelEmitterTests.testModelEmissionMatchesGoldenFile' started at 2025-07-16 05:00:34.856
Test Case 'ModelEmitterTests.testModelEmissionMatchesGoldenFile' passed (0.007 seconds)
Test Suite 'ModelEmitterTests' passed at 2025-07-16 05:00:34.863
	 Executed 1 test, with 0 failures (0 unexpected) in 0.007 (0.007) seconds
Test Suite 'IntegrationTests' started at 2025-07-16 05:00:34.863
Test Case 'IntegrationTests.testAsyncHTTPClientRoundTrip' started at 2025-07-16 05:00:34.863
NIOCore/ChannelPipeline.swift:2172: Precondition failed

*** Signal 5: Backtracing from 0xffffa52a5534... done ***

*** Program crashed: System trap at 0x0000ffffa52a5534 ***

Thread 0 "NIO-ELT-0-#0" crashed:

 0                  0x0000ffffa52a5534 _assertionFailure(_:_:file:line:flags:) + 164 in libswiftCore.so
 1 [ra]             0x0000aaaae5b267a8 EventLoop.preconditionInEventLoop(file:line:) + 195 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/EventLoop.swift:1437:9
 2 [ra] [thunk]     0x0000aaaae5ea9ea4 protocol witness for EventLoop.preconditionInEventLoop(file:line:) in conformance SelectableEventLoop + 15 in SwiftCodexOpenAPIKernelPackageTests.xctest at //<compiler-generated>
 3 [ra]             0x0000aaaae5b1d908 closure #1 in EventLoop.assertInEventLoop(file:line:) + 103 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/EventLoop.swift:1418:18
 4 [ra]             0x0000aaaae5bd4b7c closure #1 in implicit closure #1 in debugOnly(_:) + 43 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/Utilities.swift:57:13
 5 [ra]             0x0000aaaae5bd4f4c debugOnly(_:) + 67 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/Utilities.swift:55:5
 6 [ra]             0x0000aaaae5b2156c EventLoop.assertInEventLoop(file:line:) + 163 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/EventLoop.swift:1417:9
 7 [ra]             0x0000aaaae5ae84b4 ChannelHandlerContext.invokeWrite(_:promise:) + 127 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/ChannelPipeline.swift:2172:24
 8 [ra]             0x0000aaaae5afa24c ChannelHandlerContext.write(_:promise:) + 151 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/.build/checkouts/swift-nio/Sources/NIOCore/ChannelPipeline.swift:1969:26
 9 [ra]             0x0000aaaae59d288c closure #2 in NIOHTTPServer.HTTPHandler.channelRead(context:data:) + 935 in SwiftCodexOpenAPIKernelPackageTests.xctest at /srv/deploy/repos/fountainai/Sources/IntegrationRuntime/NIOHTTPServer.swift:67:29
10 [async] [thunk]  0x0000aaaae59d2e10 partial apply for closure #2 in NIOHTTPServer.HTTPHandler.channelRead(context:data:) in SwiftCodexOpenAPIKernelPackageTests.xctest at //<compiler-generated>
11 [async] [system] 0x0000ffffa57b4ae8 completeTaskWithClosure(swift::AsyncContext*, swift::SwiftError*) in libswift_Concurrency.so


Registers:

 x0 0x8000000000000000  9223372036854775808
 x1 0x0000000000000000  0
 x2 0x0000000000000000  0
 x3 0x0000ffff480008e0  01 00 00 00 00 00 01 00 01 00 00 00 01 00 01 00  Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
 x4 0x0000000000000000  0
 x5 0x0000ffff48001540  01 80 f4 ff 0f 00 00 00 bf 31 f7 3d fe dc e7 a7  Â·Â·Ã´Ã¿Â·Â·Â·Â·Â¿1Ã·=Ã¾ÃœÃ§Â§
error: Exited with unexpected signal code 5
 x6 0xa7e7dcfe3df731bf  12098881908473541055
 x7 0x696166206e6f6974  7593462736201148788
 x8 0x0000000000000000  0
 x9 0x0000aaaae73b3040  50 72 65 63 6f 6e 64 69 74 69 6f 6e 20 66 61 69  Precondition fai
x10 0x0000000000000000  0
x11 0x0000ffffa3797440  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
x12 0x0000ffffa3797720  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
x13 0x0000000000000000  0
x14 0x0000000000000020  32
x15 0x0000000000000000  0
x16 0x0000ffffa5550038  c4 db 6d a3 ff ff 00 00 48 fa 14 a5 ff ff 00 00  Ã„Ã›mÂ£Ã¿Ã¿Â·Â·HÃºÂ·Â¥Ã¿Ã¿Â·Â·
x17 0x0000ffffa36ddbc4  40 07 00 b4 fd 7b bc a9 01 40 00 d1 fd 03 00 91  @Â·Â·Â´Ã½{Â¼Â©Â·@Â·Ã‘Ã½Â·Â·Â·
x18 0x0000000000000000  0
x19 0x0000ffff80007590  78 16 7f a5 ff ff 00 00 03 00 00 00 00 00 00 00  xÂ·Â·Â¥Ã¿Ã¿Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
x20 0x0000ffff80005f80  10 1b 49 e7 aa aa 00 00 03 00 00 00 24 00 00 00  Â·Â·IÃ§ÂªÂªÂ·Â·Â·Â·Â·Â·$Â·Â·Â·
x21 0x0000000000000030  48
x22 0x0000ffff8000c650  90 76 00 80 ff ff 00 00 10 2e 9d e5 aa aa 00 00  Â·vÂ·Â·Ã¿Ã¿Â·Â·Â·.Â·Ã¥ÂªÂªÂ·Â·
x23 0x0000ffff8b40f5c8  e6 03 00 00 00 00 00 00 20 ca 00 80 ff ff 00 00  Ã¦Â·Â·Â·Â·Â·Â·Â· ÃŠÂ·Â·Ã¿Ã¿Â·Â·
x24 0x0000ffff8000c650  90 76 00 80 ff ff 00 00 10 2e 9d e5 aa aa 00 00  Â·vÂ·Â·Ã¿Ã¿Â·Â·Â·.Â·Ã¥ÂªÂªÂ·Â·
x25 0x0000000000005015  20501
x26 0x0000ffff8b40f580  00 cb 00 80 ff ff 00 00 00 00 00 00 00 00 00 00  Â·Ã‹Â·Â·Ã¿Ã¿Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
x27 0x0000000000000000  0
x28 0x0000000000000000  0
 fp 0x0000ffff8b40dd40  e0 dd 40 8b ff ff 00 00 a8 67 b2 e5 aa aa 00 00  Ã Ã@Â·Ã¿Ã¿Â·Â·Â¨gÂ²Ã¥ÂªÂªÂ·Â·
 lr 0x0000ffffa52a5534  20 00 20 d4 28 00 80 52 89 12 80 52 00 16 00 90   Â· Ã”(Â·Â·RÂ·Â·Â·RÂ·Â·Â·Â·
 sp 0x0000ffff8b40dcd0  01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·
 pc 0x0000ffffa52a5534  20 00 20 d4 28 00 80 52 89 12 80 52 00 16 00 90   Â· Ã”(Â·Â·RÂ·Â·Â·RÂ·Â·Â·Â·


Images (50 omitted):

0x0000aaaae5390000â€“0x0000aaaae732e068 c54b3b4ba8133dabf2c4fe0bd8f23a610e34e278 SwiftCodexOpenAPIKernelPackageTests.xctest /srv/deploy/repos/fountainai/.build/aarch64-unknown-linux-gnu/debug/SwiftCodexOpenAPIKernelPackageTests.xctest
0x0000ffffa5000000â€“0x0000ffffa5523a18 db686f459fa5f79f26f43e04601a349f3165432f libswiftCore.so                            /usr/lib/swift/linux/libswiftCore.so
0x0000ffffa5750000â€“0x0000ffffa57cdbd8 2a9f7d706aa66439e4d23f43d11cb05a4eb598e6 libswift_Concurrency.so                    /usr/lib/swift/linux/libswift_Concurrency.so

Backtrace took 1.39s

â—‡ Test run started.
â†³ Testing Library Version: 6.1.2 (d6b70f9ef9eb207)
â†³ Target Platform: aarch64-unknown-linux-gnu
âœ” Test run with 0 tests passed after 0.001 seconds.

[2025-07-16T05:00:19.441666] Starting swift build...
[2025-07-16T05:00:27.333837] swift build succeeded
[2025-07-16T05:00:27.334319] running swift test...
[2025-07-16T05:00:36.312765] swift test failed with exit code 1
[2025-07-16T05:00:36.384332] [dispatcher] Updated git remote to use token-based authentication.
[2025-07-16T05:00:39.257749] Opened PR #144 for Fountain-Coach/codex-deployer
[2025-07-16T05:01:10.452681] PR #144 merged
[2025-07-16T05:01:11.526913] [dispatcher] Running Docker build...
[2025-07-16T05:01:11.527770] [dispatcher] Running tests...
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "default" instance using docker driver

#1 [baseline-awareness internal] load build definition from Dockerfile
#1 transferring dockerfile: 299B done
#1 DONE 0.0s

#2 [planner internal] load build definition from Dockerfile
#2 transferring dockerfile: 266B done
#2 DONE 0.0s

#3 [bootstrap internal] load build definition from Dockerfile
#3 transferring dockerfile: 272B done
#3 DONE 0.0s

#4 [llm-gateway internal] load build definition from Dockerfile
#4 transferring dockerfile: 278B done
#4 DONE 0.0s

#5 [function-caller internal] load build definition from Dockerfile
#5 transferring dockerfile: 290B done
#5 DONE 0.0s

#6 [tools-factory internal] load build definition from Dockerfile
#6 transferring dockerfile: 284B done
#6 DONE 0.0s

#7 [persist internal] load build definition from Dockerfile
#7 transferring dockerfile: 266B done
#7 DONE 0.0s

#8 [persist internal] load metadata for docker.io/library/swift:6.1-jammy
#8 DONE 0.6s

#9 [persist internal] load metadata for docker.io/library/ubuntu:22.04
#9 DONE 3.1s

#10 [bootstrap internal] load .dockerignore
#10 transferring context: 2B done
#10 DONE 0.0s

#11 [llm-gateway internal] load .dockerignore
#11 transferring context: 2B done
#11 DONE 0.1s

#12 [persist internal] load .dockerignore
#12 transferring context: 2B done
#12 DONE 0.1s

#13 [tools-factory internal] load .dockerignore
#13 transferring context: 2B done
#13 DONE 0.1s

#14 [planner stage-1 1/2] FROM docker.io/library/ubuntu:22.04@sha256:3d256b40acbf7859ab80126ea5dca7527b6f72d2288cbd90be1369cc10fa9dfc
#14 resolve docker.io/library/ubuntu:22.04@sha256:3d256b40acbf7859ab80126ea5dca7527b6f72d2288cbd90be1369cc10fa9dfc 0.0s done
#14 DONE 0.0s

#15 [baseline-awareness internal] load .dockerignore
#15 transferring context: 2B done
#15 DONE 0.1s

#16 [planner build 1/4] FROM docker.io/library/swift:6.1-jammy@sha256:ec555b61cd4518a10311f36486a9e12d6dbd693c4ec42093c239e6eceff576d6
#16 resolve docker.io/library/swift:6.1-jammy@sha256:ec555b61cd4518a10311f36486a9e12d6dbd693c4ec42093c239e6eceff576d6 0.0s done
#16 DONE 0.0s

#17 [function-caller internal] load .dockerignore
#17 transferring context: 2B done
#17 DONE 0.1s

#18 [planner internal] load .dockerignore
#18 transferring context: 2B 0.0s done
#18 DONE 0.1s

#19 [baseline-awareness internal] load build context
#19 transferring context: 64.44MB 5.0s
#19 ...

#20 [function-caller internal] load build context
#20 ...

#19 [baseline-awareness internal] load build context
#19 transferring context: 135.63MB 10.0s
#19 ...

#21 [planner internal] load build context
#21 ...

#22 [llm-gateway internal] load build context
#22 ...

#23 [tools-factory internal] load build context
#23 ...

#24 [bootstrap internal] load build context
#24 ...

#25 [persist internal] load build context
#25 ...

#23 [tools-factory internal] load build context
#23 transferring context: 214.33MB 15.1s
#23 ...

#20 [function-caller internal] load build context
#20 ...

#23 [tools-factory internal] load build context
#23 transferring context: 292.23MB 20.1s
#23 ...

#19 [baseline-awareness internal] load build context
#19 ...

#21 [planner internal] load build context
#21 ...

#22 [llm-gateway internal] load build context
#22 ...

#24 [bootstrap internal] load build context
#24 ...

#25 [persist internal] load build context
#25 ...

#24 [bootstrap internal] load build context
#24 transferring context: 358.89MB 25.2s
#24 ...

#20 [function-caller internal] load build context
#20 ...

#24 [bootstrap internal] load build context
#24 transferring context: 396.08MB 30.3s
#24 ...

#23 [tools-factory internal] load build context
#23 ...

#19 [baseline-awareness internal] load build context
#19 ...

#21 [planner internal] load build context
#21 ...

#22 [llm-gateway internal] load build context
#22 ...

#21 [planner internal] load build context
#21 ...

#25 [persist internal] load build context
#25 ...

#21 [planner internal] load build context
#21 transferring context: 433.77MB 35.3s
#21 ...

#20 [function-caller internal] load build context
#20 ...

#21 [planner internal] load build context
#21 transferring context: 489.15MB 40.4s
#21 ...

#24 [bootstrap internal] load build context
#24 ...

#23 [tools-factory internal] load build context
#23 ...

#19 [baseline-awareness internal] load build context
#19 ...

#23 [tools-factory internal] load build context
#23 ...

#22 [llm-gateway internal] load build context
#22 ...

#23 [tools-factory internal] load build context
#23 ...

#25 [persist internal] load build context
#25 ...

#23 [tools-factory internal] load build context
#23 transferring context: 539.97MB 45.4s
#23 ...

#20 [function-caller internal] load build context
#20 ...

#22 [llm-gateway internal] load build context
#22 ...

#20 [function-caller internal] load build context
#20 transferring context: 622.55MB 50.4s
#20 ...

#24 [bootstrap internal] load build context
#24 ...

#21 [planner internal] load build context
#21 ...

#25 [persist internal] load build context
#25 ...

#19 [baseline-awareness internal] load build context
#19 ...

#21 [planner internal] load build context
#21 transferring context: 699.28MB 55.5s
#21 ...

#24 [bootstrap internal] load build context
#24 ...

#21 [planner internal] load build context
#21 ...

#23 [tools-factory internal] load build context
#23 ...

#24 [bootstrap internal] load build context
#24 ...

#19 [baseline-awareness internal] load build context
#19 transferring context: 723.60MB 57.0s done
#19 DONE 57.2s

#22 [llm-gateway internal] load build context
#22 transferring context: 723.60MB 57.2s done
#22 ...

#26 [baseline-awareness build 2/4] WORKDIR /src
#26 CACHED

#23 [tools-factory internal] load build context
#23 transferring context: 723.60MB 57.2s done
#23 DONE 57.4s

#27 [baseline-awareness build 3/4] COPY . .
#27 ...

#22 [llm-gateway internal] load build context
#22 DONE 57.4s

#25 [persist internal] load build context
#25 transferring context: 723.60MB 57.2s done
#25 DONE 57.4s

#24 [bootstrap internal] load build context
#24 transferring context: 723.60MB 57.3s done
#24 DONE 57.4s

#20 [function-caller internal] load build context
#20 transferring context: 723.60MB 57.2s done
#20 DONE 57.4s

#21 [planner internal] load build context
#21 transferring context: 723.60MB 57.3s done
#21 DONE 57.4s

#27 [planner build 3/4] COPY . .
#27 DONE 6.8s

#28 [function-caller build 3/4] COPY . .
#28 CACHED

#29 [persist build 3/4] COPY . .
#29 CACHED

#30 [tools-factory build 3/4] COPY . .
#30 CACHED

#31 [llm-gateway build 3/4] COPY . .
#31 CACHED

#32 [planner build 3/4] COPY . .
#32 CACHED

#33 [bootstrap build 3/4] COPY . .
#33 CACHED

#34 [function-caller build 4/4] RUN swift build -c release --product function-caller-server
#34 ...

#35 [baseline-awareness build 4/4] RUN swift build -c release --product baseline-awareness-server
#35 ...

#36 [planner build 4/4] RUN swift build -c release --product planner-server
#36 ...

#37 [bootstrap build 4/4] RUN swift build -c release --product bootstrap-server
#37 ...

#38 [tools-factory build 4/4] RUN swift build -c release --product tools-factory-server
#38 ...

#39 [llm-gateway build 4/4] RUN swift build -c release --product llm-gateway-server
#39 ...

#40 [persist build 4/4] RUN swift build -c release --product persist-server
#40 ...

#39 [llm-gateway build 4/4] RUN swift build -c release --product llm-gateway-server
#39 14.66 Building for production...
#39 14.72 [0/6] Write sources
#39 14.96 [3/6] Write swift-version-24593BA9C3E375BF.txt
#39 ...

#34 [function-caller build 4/4] RUN swift build -c release --product function-caller-server
#34 14.93 Building for production...
#34 14.98 [0/14] Write sources
#34 15.23 [5/14] Write swift-version-24593BA9C3E375BF.txt
#34 15.35 [6/14] Compiling reader.c
#34 15.35 [6/14] Compiling writer.c
#34 15.61 [8/15] Compiling api.c
#34 15.94 [9/15] Compiling parser.c
#34 16.38 [10/15] Compiling emitter.c
#34 16.69 [11/15] Compiling scanner.c
#34 ...

#39 [llm-gateway build 4/4] RUN swift build -c release --product llm-gateway-server
#39 20.72 [5/7] Compiling ServiceShared Models.swift
#39 21.89 [6/8] Compiling LLMGatewayService HTTPKernel.swift
#39 22.90 [7/9] Compiling LLMGatewayServer main.swift
#39 22.90 [7/9] Write Objects.LinkFileList
#39 23.17 [8/9] Linking llm-gateway-server
#39 23.18 Build of product 'llm-gateway-server' complete! (21.17s)
#39 DONE 23.5s

#38 [tools-factory build 4/4] RUN swift build -c release --product tools-factory-server
#38 14.74 Building for production...
#38 14.78 [0/14] Write sources
#38 15.34 [5/14] Write swift-version-24593BA9C3E375BF.txt
#38 15.34 [6/14] Compiling writer.c
#38 15.35 [7/14] Compiling reader.c
#38 15.64 [8/15] Compiling api.c
#38 15.69 [9/15] Compiling parser.c
#38 16.25 [10/15] Compiling scanner.c
#38 16.62 [11/15] Compiling emitter.c
#38 20.85 [13/16] Compiling ServiceShared Models.swift
#38 ...

#40 [persist build 4/4] RUN swift build -c release --product persist-server
#40 14.84 Building for production...
#40 14.88 [0/6] Write sources
#40 15.09 [3/6] Write swift-version-24593BA9C3E375BF.txt
#40 20.72 [5/7] Compiling ServiceShared Models.swift
#40 22.02 [6/8] Compiling PersistService HTTPKernel.swift
#40 22.02 /src/Generated/Server/persist/Handlers.swift:14:19: warning: immutable value 'corpusId' was never used; consider replacing with '_' or removing it
#40 22.02 12 |     }
#40 22.02 13 |     public func addbaseline(_ request: HTTPRequest) async throws -> HTTPResponse {
#40 22.02 14 |         guard let corpusId = request.path.split(separator: "/").dropFirst(2).first,
#40 22.02    |                   `- warning: immutable value 'corpusId' was never used; consider replacing with '_' or removing it
#40 22.02 15 |               let model = try? JSONDecoder().decode(Baseline.self, from: request.body) else {
#40 22.02 16 |             return HTTPResponse(status: 400)
#40 22.02 
#40 22.02 /src/Generated/Server/persist/Handlers.swift:33:19: warning: immutable value 'corpusId' was never used; consider replacing with '_' or removing it
#40 22.02 31 | 
#40 22.02 32 |     public func addreflection(_ request: HTTPRequest) async throws -> HTTPResponse {
#40 22.02 33 |         guard let corpusId = request.path.split(separator: "/").dropFirst(2).first,
#40 22.02    |                   `- warning: immutable value 'corpusId' was never used; consider replacing with '_' or removing it
#40 22.02 34 |               let reflection = try? JSONDecoder().decode(Reflection.self, from: request.body) else {
#40 22.02 35 |             return HTTPResponse(status: 400)
#40 22.90 [7/9] Compiling PersistServer main.swift
#40 22.91 [7/9] Write Objects.LinkFileList
#40 23.17 [8/9] Linking persist-server
#40 23.18 Build of product 'persist-server' complete! (21.16s)
#40 DONE 23.5s

#41 [persist stage-1 2/2] COPY --from=build /src/.build/release/persist-server /server
#41 CACHED

#42 [llm-gateway stage-1 2/2] COPY --from=build /src/.build/release/llm-gateway-server /server
#42 CACHED

#43 [llm-gateway] exporting to image
#43 exporting layers done
#43 writing image sha256:b242dd8971cd9a5cf1dd6497c19a6c5beb87b7d89ff8d7d6f4ef274146cbb5cb 0.0s done
#43 naming to docker.io/library/fountainai-llm-gateway 0.0s done
#43 DONE 0.0s

#44 [persist] exporting to image
#44 exporting layers done
#44 writing image sha256:bc1e88fc274123a9b6f734341ed87cacd63ce63fc6c68d97e0c6b15b2a2fe10a 0.0s done
#44 naming to docker.io/library/fountainai-persist done
#44 DONE 0.0s

#37 [bootstrap build 4/4] RUN swift build -c release --product bootstrap-server
#37 14.74 Building for production...
#37 14.79 [0/7] Write sources
#37 14.99 [4/7] Write swift-version-24593BA9C3E375BF.txt
#37 20.81 [6/8] Compiling ServiceShared Models.swift
#37 22.60 [7/9] Compiling BaselineAwarenessService BaselineStore.swift
#37 23.66 [8/10] Compiling BootstrapService HTTPKernel.swift
#37 ...

#45 [llm-gateway] resolving provenance for metadata file
#45 DONE 0.0s

#46 [persist] resolving provenance for metadata file
#46 DONE 0.0s

#36 [planner build 4/4] RUN swift build -c release --product planner-server
#36 14.84 Building for production...
#36 14.90 [0/6] Write sources
#36 15.12 [3/6] Write swift-version-24593BA9C3E375BF.txt
#36 20.72 [5/7] Compiling ServiceShared Models.swift
#36 22.81 [6/8] Compiling PlannerService HTTPKernel.swift
#36 23.70 [7/9] Compiling PlannerServer main.swift
#36 23.71 [7/9] Write Objects.LinkFileList
#36 23.91 [8/9] Linking planner-server
#36 23.93 Build of product 'planner-server' complete! (21.92s)
#36 DONE 24.0s

#14 [function-caller stage-1 1/2] FROM docker.io/library/ubuntu:22.04@sha256:3d256b40acbf7859ab80126ea5dca7527b6f72d2288cbd90be1369cc10fa9dfc
#14 CACHED

#47 [planner stage-1 2/2] COPY --from=build /src/.build/release/planner-server /server
#47 DONE 0.0s

#35 [baseline-awareness build 4/4] RUN swift build -c release --product baseline-awareness-server
#35 14.73 Building for production...
#35 14.78 [0/6] Write sources
#35 15.03 [3/6] Write swift-version-24593BA9C3E375BF.txt
#35 20.72 [5/7] Compiling ServiceShared Models.swift
#35 22.73 [6/8] Compiling BaselineAwarenessService BaselineStore.swift
#35 23.92 [7/9] Compiling BaselineAwarenessServer HTTPServer.swift
#35 23.92 /src/Generated/Server/baseline-awareness/HTTPServer.swift:35:14: warning: passing closure as a 'sending' parameter risks causing data races between code in the current task and concurrent execution of the closure
#35 23.92 33 |         )
#35 23.92 34 |         let client = self.client
#35 23.92 35 |         Task { [client] in
#35 23.92    |              `- warning: passing closure as a 'sending' parameter risks causing data races between code in the current task and concurrent execution of the closure
#35 23.92 36 |             do {
#35 23.92 37 |                 let resp = try await kernel.handle(req)
#35 23.92    :
#35 23.92 42 |                     headerFields: resp.headers
#35 23.92 43 |                 )!
#35 23.92 44 |                 client?.urlProtocol(self, didReceive: httpResponse, cacheStoragePolicy: .notAllowed)
#35 23.92    |                                     `- note: closure captures 'self' which is accessible to code in the current task
#35 23.92 45 |                 client?.urlProtocol(self, didLoad: resp.body)
#35 23.92 46 |                 client?.urlProtocolDidFinishLoading(self)
#35 23.93 [7/9] Write Objects.LinkFileList
#35 ...

#48 [planner] exporting to image
#48 exporting layers 0.1s done
#48 writing image sha256:abd44fd4a412c923bad038676b19c5fa516c9056d4f3f8ad5fde8330730c8956
#48 writing image sha256:abd44fd4a412c923bad038676b19c5fa516c9056d4f3f8ad5fde8330730c8956 done
#48 naming to docker.io/library/fountainai-planner done
#48 DONE 0.2s

#49 [planner] resolving provenance for metadata file
#49 DONE 0.0s

#35 [baseline-awareness build 4/4] RUN swift build -c release --product baseline-awareness-server
#35 24.27 [8/9] Linking baseline-awareness-server
#35 24.28 Build of product 'baseline-awareness-server' complete! (22.27s)
#35 DONE 24.3s

#50 [baseline-awareness stage-1 2/2] COPY --from=build /src/.build/release/baseline-awareness-server /server
#50 CACHED

#51 [baseline-awareness] exporting to image
#51 exporting layers done
#51 writing image sha256:213d3f58687982c491078818573d05b9f336275d8c6dfe694c669684a2d897b0 done
#51 naming to docker.io/library/fountainai-baseline-awareness done
#51 DONE 0.0s

#52 [baseline-awareness] resolving provenance for metadata file
#52 DONE 0.0s

#34 [function-caller build 4/4] RUN swift build -c release --product function-caller-server
#34 21.02 [13/16] Compiling ServiceShared Models.swift
#34 ...

#37 [bootstrap build 4/4] RUN swift build -c release --product bootstrap-server
#37 24.60 [9/11] Compiling BootstrapServer main.swift
#37 24.60 [9/11] Write Objects.LinkFileList
#37 24.76 [10/11] Linking bootstrap-server
#37 24.77 Build of product 'bootstrap-server' complete! (22.76s)
#37 DONE 24.8s

#53 [bootstrap stage-1 2/2] COPY --from=build /src/.build/release/bootstrap-server /server
#53 CACHED

#54 [bootstrap] exporting to image
#54 exporting layers done
#54 writing image sha256:11781d116044a68cdc01a00169c5338dd0e2b1095a10513ca18838feec109163 done
#54 naming to docker.io/library/fountainai-bootstrap done
#54 DONE 0.0s

#55 [bootstrap] resolving provenance for metadata file
#55 DONE 0.0s

#38 [tools-factory build 4/4] RUN swift build -c release --product tools-factory-server
#38 ...

#34 [function-caller build 4/4] RUN swift build -c release --product function-caller-server
#34 27.07 [14/16] Compiling Yams AliasDereferencingStrategy.swift
#34 28.46 [15/17] Compiling Parser OpenAPISpec.swift
#34 28.46 /src/Sources/Parser/SpecLoader.swift:31:67: warning: expression implicitly coerced from 'Any?' to 'Any'
#34 28.46 29 |         }
#34 28.46 30 | 
#34 28.46 31 |         let jsonData = try JSONSerialization.data(withJSONObject: yamlObject, options: [])
#34 28.46    |                                                                   |- warning: expression implicitly coerced from 'Any?' to 'Any'
#34 28.46    |                                                                   |- note: provide a default value to avoid this warning
#34 28.46    |                                                                   |- note: force-unwrap the value to avoid this warning
#34 28.46    |                                                                   `- note: explicitly cast to 'Any' with 'as Any' to silence this warning
#34 28.46 32 |         let spec = try JSONDecoder().decode(OpenAPISpec.self, from: jsonData)
#34 28.46 33 |         try SpecValidator.validate(spec)
#34 28.97 [16/18] Compiling FunctionCallerService Dispatcher.swift
#34 29.46 [17/19] Compiling FunctionCallerServer main.swift
#34 29.46 [17/19] Write Objects.LinkFileList
#34 29.61 [18/19] Linking function-caller-server
#34 29.61 Build of product 'function-caller-server' complete! (27.60s)
#34 DONE 29.7s

#56 [function-caller stage-1 2/2] COPY --from=build /src/.build/release/function-caller-server /server
#56 CACHED

#57 [function-caller] exporting to image
#57 exporting layers done
#57 writing image sha256:aed79130a58ce83dbf3fb0204a2a70914a727d97faf79d62e64f93ee4e9c1e5b done
#57 naming to docker.io/library/fountainai-function-caller done
#57 DONE 0.0s

#58 [function-caller] resolving provenance for metadata file
#58 DONE 0.0s

#38 [tools-factory build 4/4] RUN swift build -c release --product tools-factory-server
#38 27.25 [14/16] Compiling Yams AliasDereferencingStrategy.swift
#38 28.59 [15/17] Compiling Parser OpenAPISpec.swift
#38 28.59 /src/Sources/Parser/SpecLoader.swift:31:67: warning: expression implicitly coerced from 'Any?' to 'Any'
#38 28.59 29 |         }
#38 28.59 30 | 
#38 28.59 31 |         let jsonData = try JSONSerialization.data(withJSONObject: yamlObject, options: [])
#38 28.59    |                                                                   |- warning: expression implicitly coerced from 'Any?' to 'Any'
#38 28.59    |                                                                   |- note: provide a default value to avoid this warning
#38 28.59    |                                                                   |- note: force-unwrap the value to avoid this warning
#38 28.59    |                                                                   `- note: explicitly cast to 'Any' with 'as Any' to silence this warning
#38 28.59 32 |         let spec = try JSONDecoder().decode(OpenAPISpec.self, from: jsonData)
#38 28.59 33 |         try SpecValidator.validate(spec)
#38 29.14 [16/18] Compiling ToolsFactoryService HTTPKernel.swift
#38 29.63 [17/19] Compiling ToolsFactoryServer main.swift
#38 29.64 [17/19] Write Objects.LinkFileList
#38 29.78 [18/19] Linking tools-factory-server
#38 29.79 Build of product 'tools-factory-server' complete! (27.78s)
#38 DONE 29.8s

#59 [tools-factory stage-1 2/2] COPY --from=build /src/.build/release/tools-factory-server /server
#59 CACHED

#60 [tools-factory] exporting to image
#60 exporting layers done
#60 writing image sha256:2f2e30fc5b240ce8f079070c0c7b2a0350c303113c1fbbcbb78b163787f9aff5 done
#60 naming to docker.io/library/fountainai-tools-factory done
#60 DONE 0.0s

#61 [tools-factory] resolving provenance for metadata file
#61 DONE 0.0s
 baseline-awareness  Built
 bootstrap  Built
 function-caller  Built
 llm-gateway  Built
 persist  Built
 planner  Built
 tools-factory  Built
 Network fountainai_default  Creating
 Network fountainai_default  Created
 Container fountainai-persist-1  Creating
 Container fountainai-bootstrap-1  Creating
 Container fountainai-llm-gateway-1  Creating
 Container fountainai-planner-1  Creating
 Container fountainai-baseline-awareness-1  Creating
 Container fountainai-function-caller-1  Creating
 Container fountainai-tools-factory-1  Creating
 Container fountainai-persist-1  Created
 Container fountainai-tools-factory-1  Created
 Container fountainai-bootstrap-1  Created
 Container fountainai-baseline-awareness-1  Created
 Container fountainai-llm-gateway-1  Created
 Container fountainai-planner-1  Created
 Container fountainai-function-caller-1  Created
Attaching to baseline-awareness-1, bootstrap-1, function-caller-1, llm-gateway-1, persist-1, planner-1, tools-factory-1
persist-1             | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
function-caller-1     | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
baseline-awareness-1  | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
planner-1             | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
llm-gateway-1         | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
bootstrap-1           | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
tools-factory-1       | /server: error while loading shared libraries: libswiftCore.so: cannot open shared object file: No such file or directory
[Kpersist-1 exited with code 127
Aborting on container exit...
 Container fountainai-tools-factory-1  Stopping
 Container fountainai-bootstrap-1  Stopping
 Container fountainai-baseline-awareness-1  Stopping
 Container fountainai-function-caller-1  Stopping
 Container fountainai-llm-gateway-1  Stopping
 Container fountainai-planner-1  Stopping
 Container fountainai-persist-1  Stopping
 Container fountainai-tools-factory-1  Stopped
 Container fountainai-bootstrap-1  Stopped
 Container fountainai-function-caller-1  Stopped
 Container fountainai-llm-gateway-1  Stopped
 Container fountainai-planner-1  Stopped
 Container fountainai-baseline-awareness-1  Stopped
 Container fountainai-persist-1  Stopped
 Container fountainai-baseline-awareness-1  Stopping
 Container fountainai-bootstrap-1  Stopping
 Container fountainai-llm-gateway-1  Stopping
 Container fountainai-function-caller-1  Stopping
 Container fountainai-persist-1  Stopping
 Container fountainai-tools-factory-1  Stopping
 Container fountainai-planner-1  Stopping
 Container fountainai-baseline-awareness-1  Stopped
 Container fountainai-baseline-awareness-1  Removing
 Container fountainai-llm-gateway-1  Stopped
 Container fountainai-llm-gateway-1  Removing
 Container fountainai-function-caller-1  Stopped
 Container fountainai-function-caller-1  Removing
 Container fountainai-bootstrap-1  Stopped
 Container fountainai-bootstrap-1  Removing
 Container fountainai-tools-factory-1  Stopped
 Container fountainai-tools-factory-1  Removing
 Container fountainai-planner-1  Stopped
 Container fountainai-planner-1  Removing
 Container fountainai-persist-1  Stopped
 Container fountainai-persist-1  Removing
 Container fountainai-planner-1  Removed
 Container fountainai-function-caller-1  Removed
 Container fountainai-persist-1  Removed
 Container fountainai-tools-factory-1  Removed
 Container fountainai-baseline-awareness-1  Removed
 Container fountainai-llm-gateway-1  Removed
 Container fountainai-bootstrap-1  Removed
 Network fountainai_default  Removing
 Network fountainai_default  Removed
 Network kong-codex_default  Creating
 Network kong-codex_default  Created
 Container kong-codex-kong-1  Creating
 Container kong-codex-typesense-1  Creating
 Container kong-codex-typesense-1  Created
 Container kong-codex-kong-1  Created
Attaching to kong-1, typesense-1
Gracefully stopping... (press Ctrl+C again to force)
Error response from daemon: mounts denied: 
The path /srv/deploy/repos/kong-codex/kong.conf is not shared from the host and is not known to Docker.
You can configure shared paths from Docker -> Preferences... -> Resources -> File Sharing.
See https://docs.docker.com/desktop/settings/mac/#file-sharing for more info.
 Container kong-codex-typesense-1  Stopping
 Container kong-codex-kong-1  Stopping
 Container kong-codex-kong-1  Stopped
 Container kong-codex-kong-1  Removing
 Container kong-codex-kong-1  Removed
 Container kong-codex-typesense-1  Stopped
 Container kong-codex-typesense-1  Removing
 Container kong-codex-typesense-1  Removed
 Network kong-codex_default  Removing
 Network kong-codex_default  Removed

[2025-07-16T05:01:11.527993] Running integration tests for fountainai...
[2025-07-16T05:02:50.146319] Integration tests for fountainai failed with exit code 127

[2025-07-16T05:02:50.148621] Running integration tests for kong-codex...
[2025-07-16T05:03:00.868138] Integration tests for kong-codex failed with exit code 1
