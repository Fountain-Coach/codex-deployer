[2025-07-17T05:14:19.995294] === New Cycle ===
[0/1] Planning build
Building for debugging...
[0/14] Write swift-version-24593BA9C3E375BF.txt
Build complete! (3.44s)
[0/1] Planning build
Building for debugging...
[0/15] Write swift-version-24593BA9C3E375BF.txt
[2/19] Emitting module ServerTests
[3/19] Compiling ServerTests HTTPServer.swift
/srv/deploy/repos/fountainai/Tests/ServerTests/HTTPServer.swift:11:21: warning: result of call to 'registerClass' is unused
 9 |     public static func register(kernel: HTTPKernel) {
10 |         self.kernel = kernel
11 |         URLProtocol.registerClass(HTTPServer.self)
   |                     `- warning: result of call to 'registerClass' is unused
12 |     }
13 | 

/srv/deploy/repos/fountainai/Tests/ServerTests/HTTPServer.swift:30:38: error: capture of 'kernel' with non-sendable type 'HTTPKernel' in a '@Sendable' closure
28 |         Task { @Sendable in
29 |             do {
30 |                 let resp = try await kernel.handle(req)
   |                                      `- error: capture of 'kernel' with non-sendable type 'HTTPKernel' in a '@Sendable' closure
31 |                 let httpResponse = HTTPURLResponse(url: url, statusCode: resp.status, httpVersion: "HTTP/1.1", headerFields: resp.headers)!
32 |                 client?.urlProtocol(strongSelf, didReceive: httpResponse, cacheStoragePolicy: .notAllowed)

/srv/deploy/repos/fountainai/Tests/ServerTests/HTTPKernel.swift:3:15: note: consider making struct 'HTTPKernel' conform to the 'Sendable' protocol
 1 | import Foundation
 2 | 
 3 | public struct HTTPKernel {
   |               `- note: consider making struct 'HTTPKernel' conform to the 'Sendable' protocol
 4 |     let router: Router
 5 | 

/srv/deploy/repos/fountainai/Tests/ServerTests/HTTPServer.swift:30:52: error: capture of 'req' with non-sendable type 'HTTPRequest' in a '@Sendable' closure
28 |         Task { @Sendable in
29 |             do {
30 |                 let resp = try await kernel.handle(req)
   |                                                    `- error: capture of 'req' with non-sendable type 'HTTPRequest' in a '@Sendable' closure
31 |                 let httpResponse = HTTPURLResponse(url: url, statusCode: resp.status, httpVersion: "HTTP/1.1", headerFields: resp.headers)!
32 |                 client?.urlProtocol(strongSelf, didReceive: httpResponse, cacheStoragePolicy: .notAllowed)

/srv/deploy/repos/fountainai/Tests/ServerTests/HTTPRequest.swift:5:15: note: consider making struct 'HTTPRequest' conform to the 'Sendable' protocol
 3 | public struct NoBody: Codable {}
 4 | 
 5 | public struct HTTPRequest {
   |               `- note: consider making struct 'HTTPRequest' conform to the 'Sendable' protocol
 6 |     public let method: String
 7 |     public let path: String
error: fatalError

[2025-07-17T05:14:20.002391] Starting swift build...
[2025-07-17T05:14:23.933725] swift build succeeded
[2025-07-17T05:14:23.933776] running swift test...
[2025-07-17T05:14:27.781775] swift test failed with exit code 1
